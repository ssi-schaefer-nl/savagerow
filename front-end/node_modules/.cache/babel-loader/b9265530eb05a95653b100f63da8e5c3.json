{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _keys = require('./keys');\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _renderHelpers = require('./renderHelpers');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction initialData(_ref) {\n  var cell = _ref.cell,\n      row = _ref.row,\n      col = _ref.col,\n      valueRenderer = _ref.valueRenderer,\n      dataRenderer = _ref.dataRenderer;\n  return (0, _renderHelpers.renderData)(cell, row, col, valueRenderer, dataRenderer);\n}\n\nfunction initialValue(_ref2) {\n  var cell = _ref2.cell,\n      row = _ref2.row,\n      col = _ref2.col,\n      valueRenderer = _ref2.valueRenderer;\n  return (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n}\n\nfunction widthStyle(cell) {\n  var width = typeof cell.width === 'number' ? cell.width + 'px' : cell.width;\n  return width ? {\n    width: width\n  } : null;\n}\n\nvar DataCell = function (_PureComponent) {\n  _inherits(DataCell, _PureComponent);\n\n  function DataCell(props) {\n    _classCallCheck(this, DataCell);\n\n    var _this = _possibleConstructorReturn(this, (DataCell.__proto__ || Object.getPrototypeOf(DataCell)).call(this, props));\n\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleCommit = _this.handleCommit.bind(_this);\n    _this.handleRevert = _this.handleRevert.bind(_this);\n    _this.handleKey = _this.handleKey.bind(_this);\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleMouseOver = _this.handleMouseOver.bind(_this);\n    _this.handleContextMenu = _this.handleContextMenu.bind(_this);\n    _this.handleDoubleClick = _this.handleDoubleClick.bind(_this);\n    _this.state = {\n      updated: false,\n      reverting: false,\n      committing: false,\n      value: ''\n    };\n    return _this;\n  }\n\n  _createClass(DataCell, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (!this.props.cell.disableUpdatedFlag && initialValue(prevProps) !== initialValue(this.props)) {\n        this.setState({\n          updated: true\n        });\n        this.timeout = setTimeout(function () {\n          return _this2.setState({\n            updated: false\n          });\n        }, 700);\n      }\n\n      if (this.props.editing === true && prevProps.editing === false) {\n        var value = this.props.clearing ? '' : initialData(this.props);\n        this.setState({\n          value: value,\n          reverting: false\n        });\n      }\n\n      if (prevProps.editing === true && this.props.editing === false && !this.state.reverting && !this.state.committing && this.state.value !== initialData(this.props)) {\n        this.props.onChange(this.props.row, this.props.col, this.state.value);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeout);\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(value) {\n      this.setState({\n        value: value,\n        committing: false\n      });\n    }\n  }, {\n    key: 'handleCommit',\n    value: function handleCommit(value, e) {\n      var _props = this.props,\n          onChange = _props.onChange,\n          onNavigate = _props.onNavigate;\n\n      if (value !== initialData(this.props)) {\n        this.setState({\n          value: value,\n          committing: true\n        });\n        onChange(this.props.row, this.props.col, value);\n      } else {\n        this.handleRevert();\n      }\n\n      if (e) {\n        e.preventDefault();\n        onNavigate(e, true);\n      }\n    }\n  }, {\n    key: 'handleRevert',\n    value: function handleRevert() {\n      this.setState({\n        reverting: true\n      });\n      this.props.onRevert();\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(e) {\n      var _props2 = this.props,\n          row = _props2.row,\n          col = _props2.col,\n          onMouseDown = _props2.onMouseDown,\n          cell = _props2.cell;\n\n      if (!cell.disableEvents) {\n        onMouseDown(row, col, e);\n      }\n    }\n  }, {\n    key: 'handleMouseOver',\n    value: function handleMouseOver(e) {\n      var _props3 = this.props,\n          row = _props3.row,\n          col = _props3.col,\n          onMouseOver = _props3.onMouseOver,\n          cell = _props3.cell;\n\n      if (!cell.disableEvents) {\n        onMouseOver(row, col);\n      }\n    }\n  }, {\n    key: 'handleDoubleClick',\n    value: function handleDoubleClick(e) {\n      var _props4 = this.props,\n          row = _props4.row,\n          col = _props4.col,\n          onDoubleClick = _props4.onDoubleClick,\n          cell = _props4.cell;\n\n      if (!cell.disableEvents) {\n        onDoubleClick(row, col);\n      }\n    }\n  }, {\n    key: 'handleContextMenu',\n    value: function handleContextMenu(e) {\n      var _props5 = this.props,\n          row = _props5.row,\n          col = _props5.col,\n          onContextMenu = _props5.onContextMenu,\n          cell = _props5.cell;\n\n      if (!cell.disableEvents) {\n        onContextMenu(e, row, col);\n      }\n    }\n  }, {\n    key: 'handleKey',\n    value: function handleKey(e) {\n      var keyCode = e.which || e.keyCode;\n\n      if (keyCode === _keys.ESCAPE_KEY) {\n        return this.handleRevert();\n      }\n\n      var _props6 = this.props,\n          component = _props6.cell.component,\n          forceEdit = _props6.forceEdit;\n      var eatKeys = forceEdit || !!component;\n      var commit = keyCode === _keys.ENTER_KEY || keyCode === _keys.TAB_KEY || !eatKeys && [_keys.LEFT_KEY, _keys.RIGHT_KEY, _keys.UP_KEY, _keys.DOWN_KEY].includes(keyCode);\n\n      if (commit) {\n        this.handleCommit(this.state.value, e);\n      }\n    }\n  }, {\n    key: 'renderComponent',\n    value: function renderComponent(editing, cell) {\n      var component = cell.component,\n          readOnly = cell.readOnly,\n          forceComponent = cell.forceComponent;\n\n      if (editing && !readOnly || forceComponent) {\n        return component;\n      }\n    }\n  }, {\n    key: 'renderEditor',\n    value: function renderEditor(editing, cell, row, col, dataEditor) {\n      if (editing) {\n        var Editor = cell.dataEditor || dataEditor || _DataEditor2.default;\n        return _react2.default.createElement(Editor, {\n          cell: cell,\n          row: row,\n          col: col,\n          value: this.state.value,\n          onChange: this.handleChange,\n          onCommit: this.handleCommit,\n          onRevert: this.handleRevert,\n          onKeyDown: this.handleKey\n        });\n      }\n    }\n  }, {\n    key: 'renderViewer',\n    value: function renderViewer(cell, row, col, valueRenderer, valueViewer) {\n      var Viewer = cell.valueViewer || valueViewer || _ValueViewer2.default;\n      var value = (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n      return _react2.default.createElement(Viewer, {\n        cell: cell,\n        row: row,\n        col: col,\n        value: value\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props7 = this.props,\n          row = _props7.row,\n          col = _props7.col,\n          cell = _props7.cell,\n          CellRenderer = _props7.cellRenderer,\n          valueRenderer = _props7.valueRenderer,\n          dataEditor = _props7.dataEditor,\n          valueViewer = _props7.valueViewer,\n          attributesRenderer = _props7.attributesRenderer,\n          selected = _props7.selected,\n          editing = _props7.editing,\n          onKeyUp = _props7.onKeyUp;\n      var updated = this.state.updated;\n      var content = this.renderComponent(editing, cell) || this.renderEditor(editing, cell, row, col, dataEditor) || this.renderViewer(cell, row, col, valueRenderer, valueViewer);\n      var className = [cell.className, 'cell', cell.overflow, selected && 'selected', editing && 'editing', cell.readOnly && 'read-only', updated && 'updated'].filter(function (a) {\n        return a;\n      }).join(' ');\n      return _react2.default.createElement(CellRenderer, {\n        row: row,\n        col: col,\n        cell: cell,\n        selected: selected,\n        editing: editing,\n        updated: updated,\n        attributesRenderer: attributesRenderer,\n        className: className,\n        style: widthStyle(cell),\n        onMouseDown: this.handleMouseDown,\n        onMouseOver: this.handleMouseOver,\n        onDoubleClick: this.handleDoubleClick,\n        onContextMenu: this.handleContextMenu,\n        onKeyUp: onKeyUp\n      }, content);\n    }\n  }]);\n\n  return DataCell;\n}(_react.PureComponent);\n\nexports.default = DataCell;\nDataCell.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default).isRequired,\n  forceEdit: _propTypes2.default.bool,\n  selected: _propTypes2.default.bool,\n  editing: _propTypes2.default.bool,\n  editValue: _propTypes2.default.any,\n  clearing: _propTypes2.default.bool,\n  cellRenderer: _propTypes2.default.func,\n  valueRenderer: _propTypes2.default.func.isRequired,\n  dataRenderer: _propTypes2.default.func,\n  valueViewer: _propTypes2.default.func,\n  dataEditor: _propTypes2.default.func,\n  attributesRenderer: _propTypes2.default.func,\n  onNavigate: _propTypes2.default.func.isRequired,\n  onMouseDown: _propTypes2.default.func.isRequired,\n  onMouseOver: _propTypes2.default.func.isRequired,\n  onDoubleClick: _propTypes2.default.func.isRequired,\n  onContextMenu: _propTypes2.default.func.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  onRevert: _propTypes2.default.func.isRequired,\n  onEdit: _propTypes2.default.func\n};\nDataCell.defaultProps = {\n  forceEdit: false,\n  selected: false,\n  editing: false,\n  clearing: false,\n  cellRenderer: _Cell2.default\n};","map":{"version":3,"sources":["C:/Users/vincent/git/playground/node_modules/react-datasheet/lib/DataCell.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_keys","_Cell","_Cell2","_CellShape","_CellShape2","_DataEditor","_DataEditor2","_ValueViewer","_ValueViewer2","_renderHelpers","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","initialData","_ref","cell","row","col","valueRenderer","dataRenderer","renderData","initialValue","_ref2","renderValue","widthStyle","width","DataCell","_PureComponent","_this","getPrototypeOf","handleChange","bind","handleCommit","handleRevert","handleKey","handleMouseDown","handleMouseOver","handleContextMenu","handleDoubleClick","state","updated","reverting","committing","componentDidUpdate","prevProps","_this2","disableUpdatedFlag","setState","timeout","setTimeout","editing","clearing","onChange","componentWillUnmount","clearTimeout","e","_props","onNavigate","preventDefault","onRevert","_props2","onMouseDown","disableEvents","_props3","onMouseOver","_props4","onDoubleClick","_props5","onContextMenu","keyCode","which","ESCAPE_KEY","_props6","component","forceEdit","eatKeys","commit","ENTER_KEY","TAB_KEY","LEFT_KEY","RIGHT_KEY","UP_KEY","DOWN_KEY","includes","renderComponent","readOnly","forceComponent","renderEditor","dataEditor","Editor","createElement","onCommit","onKeyDown","renderViewer","valueViewer","Viewer","render","_props7","CellRenderer","cellRenderer","attributesRenderer","selected","onKeyUp","content","className","overflow","filter","a","join","style","PureComponent","propTypes","number","isRequired","shape","bool","editValue","any","func","onEdit","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _keys = require('./keys');\n\nvar _Cell = require('./Cell');\n\nvar _Cell2 = _interopRequireDefault(_Cell);\n\nvar _CellShape = require('./CellShape');\n\nvar _CellShape2 = _interopRequireDefault(_CellShape);\n\nvar _DataEditor = require('./DataEditor');\n\nvar _DataEditor2 = _interopRequireDefault(_DataEditor);\n\nvar _ValueViewer = require('./ValueViewer');\n\nvar _ValueViewer2 = _interopRequireDefault(_ValueViewer);\n\nvar _renderHelpers = require('./renderHelpers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction initialData(_ref) {\n  var cell = _ref.cell,\n      row = _ref.row,\n      col = _ref.col,\n      valueRenderer = _ref.valueRenderer,\n      dataRenderer = _ref.dataRenderer;\n\n  return (0, _renderHelpers.renderData)(cell, row, col, valueRenderer, dataRenderer);\n}\n\nfunction initialValue(_ref2) {\n  var cell = _ref2.cell,\n      row = _ref2.row,\n      col = _ref2.col,\n      valueRenderer = _ref2.valueRenderer;\n\n  return (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n}\n\nfunction widthStyle(cell) {\n  var width = typeof cell.width === 'number' ? cell.width + 'px' : cell.width;\n  return width ? { width: width } : null;\n}\n\nvar DataCell = function (_PureComponent) {\n  _inherits(DataCell, _PureComponent);\n\n  function DataCell(props) {\n    _classCallCheck(this, DataCell);\n\n    var _this = _possibleConstructorReturn(this, (DataCell.__proto__ || Object.getPrototypeOf(DataCell)).call(this, props));\n\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleCommit = _this.handleCommit.bind(_this);\n    _this.handleRevert = _this.handleRevert.bind(_this);\n\n    _this.handleKey = _this.handleKey.bind(_this);\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleMouseOver = _this.handleMouseOver.bind(_this);\n    _this.handleContextMenu = _this.handleContextMenu.bind(_this);\n    _this.handleDoubleClick = _this.handleDoubleClick.bind(_this);\n\n    _this.state = {\n      updated: false,\n      reverting: false,\n      committing: false,\n      value: ''\n    };\n    return _this;\n  }\n\n  _createClass(DataCell, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (!this.props.cell.disableUpdatedFlag && initialValue(prevProps) !== initialValue(this.props)) {\n        this.setState({ updated: true });\n        this.timeout = setTimeout(function () {\n          return _this2.setState({ updated: false });\n        }, 700);\n      }\n      if (this.props.editing === true && prevProps.editing === false) {\n        var value = this.props.clearing ? '' : initialData(this.props);\n        this.setState({ value: value, reverting: false });\n      }\n\n      if (prevProps.editing === true && this.props.editing === false && !this.state.reverting && !this.state.committing && this.state.value !== initialData(this.props)) {\n        this.props.onChange(this.props.row, this.props.col, this.state.value);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeout);\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(value) {\n      this.setState({ value: value, committing: false });\n    }\n  }, {\n    key: 'handleCommit',\n    value: function handleCommit(value, e) {\n      var _props = this.props,\n          onChange = _props.onChange,\n          onNavigate = _props.onNavigate;\n\n      if (value !== initialData(this.props)) {\n        this.setState({ value: value, committing: true });\n        onChange(this.props.row, this.props.col, value);\n      } else {\n        this.handleRevert();\n      }\n      if (e) {\n        e.preventDefault();\n        onNavigate(e, true);\n      }\n    }\n  }, {\n    key: 'handleRevert',\n    value: function handleRevert() {\n      this.setState({ reverting: true });\n      this.props.onRevert();\n    }\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(e) {\n      var _props2 = this.props,\n          row = _props2.row,\n          col = _props2.col,\n          onMouseDown = _props2.onMouseDown,\n          cell = _props2.cell;\n\n      if (!cell.disableEvents) {\n        onMouseDown(row, col, e);\n      }\n    }\n  }, {\n    key: 'handleMouseOver',\n    value: function handleMouseOver(e) {\n      var _props3 = this.props,\n          row = _props3.row,\n          col = _props3.col,\n          onMouseOver = _props3.onMouseOver,\n          cell = _props3.cell;\n\n      if (!cell.disableEvents) {\n        onMouseOver(row, col);\n      }\n    }\n  }, {\n    key: 'handleDoubleClick',\n    value: function handleDoubleClick(e) {\n      var _props4 = this.props,\n          row = _props4.row,\n          col = _props4.col,\n          onDoubleClick = _props4.onDoubleClick,\n          cell = _props4.cell;\n\n      if (!cell.disableEvents) {\n        onDoubleClick(row, col);\n      }\n    }\n  }, {\n    key: 'handleContextMenu',\n    value: function handleContextMenu(e) {\n      var _props5 = this.props,\n          row = _props5.row,\n          col = _props5.col,\n          onContextMenu = _props5.onContextMenu,\n          cell = _props5.cell;\n\n      if (!cell.disableEvents) {\n        onContextMenu(e, row, col);\n      }\n    }\n  }, {\n    key: 'handleKey',\n    value: function handleKey(e) {\n      var keyCode = e.which || e.keyCode;\n      if (keyCode === _keys.ESCAPE_KEY) {\n        return this.handleRevert();\n      }\n      var _props6 = this.props,\n          component = _props6.cell.component,\n          forceEdit = _props6.forceEdit;\n\n      var eatKeys = forceEdit || !!component;\n      var commit = keyCode === _keys.ENTER_KEY || keyCode === _keys.TAB_KEY || !eatKeys && [_keys.LEFT_KEY, _keys.RIGHT_KEY, _keys.UP_KEY, _keys.DOWN_KEY].includes(keyCode);\n\n      if (commit) {\n        this.handleCommit(this.state.value, e);\n      }\n    }\n  }, {\n    key: 'renderComponent',\n    value: function renderComponent(editing, cell) {\n      var component = cell.component,\n          readOnly = cell.readOnly,\n          forceComponent = cell.forceComponent;\n\n      if (editing && !readOnly || forceComponent) {\n        return component;\n      }\n    }\n  }, {\n    key: 'renderEditor',\n    value: function renderEditor(editing, cell, row, col, dataEditor) {\n      if (editing) {\n        var Editor = cell.dataEditor || dataEditor || _DataEditor2.default;\n        return _react2.default.createElement(Editor, {\n          cell: cell,\n          row: row,\n          col: col,\n          value: this.state.value,\n          onChange: this.handleChange,\n          onCommit: this.handleCommit,\n          onRevert: this.handleRevert,\n          onKeyDown: this.handleKey\n        });\n      }\n    }\n  }, {\n    key: 'renderViewer',\n    value: function renderViewer(cell, row, col, valueRenderer, valueViewer) {\n      var Viewer = cell.valueViewer || valueViewer || _ValueViewer2.default;\n      var value = (0, _renderHelpers.renderValue)(cell, row, col, valueRenderer);\n      return _react2.default.createElement(Viewer, { cell: cell, row: row, col: col, value: value });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props7 = this.props,\n          row = _props7.row,\n          col = _props7.col,\n          cell = _props7.cell,\n          CellRenderer = _props7.cellRenderer,\n          valueRenderer = _props7.valueRenderer,\n          dataEditor = _props7.dataEditor,\n          valueViewer = _props7.valueViewer,\n          attributesRenderer = _props7.attributesRenderer,\n          selected = _props7.selected,\n          editing = _props7.editing,\n          onKeyUp = _props7.onKeyUp;\n      var updated = this.state.updated;\n\n\n      var content = this.renderComponent(editing, cell) || this.renderEditor(editing, cell, row, col, dataEditor) || this.renderViewer(cell, row, col, valueRenderer, valueViewer);\n\n      var className = [cell.className, 'cell', cell.overflow, selected && 'selected', editing && 'editing', cell.readOnly && 'read-only', updated && 'updated'].filter(function (a) {\n        return a;\n      }).join(' ');\n\n      return _react2.default.createElement(\n        CellRenderer,\n        {\n          row: row,\n          col: col,\n          cell: cell,\n          selected: selected,\n          editing: editing,\n          updated: updated,\n          attributesRenderer: attributesRenderer,\n          className: className,\n          style: widthStyle(cell),\n          onMouseDown: this.handleMouseDown,\n          onMouseOver: this.handleMouseOver,\n          onDoubleClick: this.handleDoubleClick,\n          onContextMenu: this.handleContextMenu,\n          onKeyUp: onKeyUp\n        },\n        content\n      );\n    }\n  }]);\n\n  return DataCell;\n}(_react.PureComponent);\n\nexports.default = DataCell;\n\n\nDataCell.propTypes = {\n  row: _propTypes2.default.number.isRequired,\n  col: _propTypes2.default.number.isRequired,\n  cell: _propTypes2.default.shape(_CellShape2.default).isRequired,\n  forceEdit: _propTypes2.default.bool,\n  selected: _propTypes2.default.bool,\n  editing: _propTypes2.default.bool,\n  editValue: _propTypes2.default.any,\n  clearing: _propTypes2.default.bool,\n  cellRenderer: _propTypes2.default.func,\n  valueRenderer: _propTypes2.default.func.isRequired,\n  dataRenderer: _propTypes2.default.func,\n  valueViewer: _propTypes2.default.func,\n  dataEditor: _propTypes2.default.func,\n  attributesRenderer: _propTypes2.default.func,\n  onNavigate: _propTypes2.default.func.isRequired,\n  onMouseDown: _propTypes2.default.func.isRequired,\n  onMouseOver: _propTypes2.default.func.isRequired,\n  onDoubleClick: _propTypes2.default.func.isRequired,\n  onContextMenu: _propTypes2.default.func.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  onRevert: _propTypes2.default.func.isRequired,\n  onEdit: _propTypes2.default.func\n};\n\nDataCell.defaultProps = {\n  forceEdit: false,\n  selected: false,\n  editing: false,\n  clearing: false,\n  cellRenderer: _Cell2.default\n};"]},"metadata":{},"sourceType":"script"}