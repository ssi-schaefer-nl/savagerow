{"ast":null,"code":"import TableService from '../../Service/TableServiceHelper';\n\nclass TableManager {\n  constructor(table) {\n    this.table = table;\n    this.tableService = new TableService();\n  }\n\n  getRowSet(onSuccess, onFailure) {\n    this.tableService.getRowsOfTable(this.table, onSuccess, onFailure);\n  }\n\n  getSchema(onSuccess, onFailure) {\n    this.tableService.getSchemaOfTable(this.table, onSuccess, onFailure);\n  }\n\n  addRow(rows, index) {\n    var copyOfRows = [...rows];\n    var newRow = {};\n    Object.keys(rows[0]).forEach(col => {\n      newRow[col] = \"\";\n    });\n    copyOfRows.splice(index, 0, newRow);\n    return copyOfRows;\n  }\n\n  update(rows, newRow, index, onSuccess, onFailure) {\n    this.tableService.updateRowOfTable(this.table, {\n      oldRow: rows[index],\n      newRow: newRow\n    }, () => {\n      var copyOfRows = [...rows];\n      copyOfRows[index] = newRow;\n      onSuccess(copyOfRows);\n    }, data => onFailure(data.response.data));\n  }\n\n  delete(rows, index, onSuccess, onFailure) {\n    this.tableService.deleteRowOfTable(this.table, {\n      row: rows[index]\n    }, () => {\n      var copyOfRows = [...rows];\n      copyOfRows.splice(index, 1);\n      onSuccess(copyOfRows);\n    }, data => onFailure(data.response.data));\n  }\n\n  save(rows, index, onSuccess, onFailure) {\n    this.tableService.addRowToTable(this.table, {\n      row: rows[index]\n    }, data => {\n      var copyOfRows = Object.assign([], rows, {\n        index: data.data.row\n      });\n      onSuccess(copyOfRows);\n    }, data => onFailure(data.response.data));\n  }\n\n}\n\nexport default TableManager;","map":{"version":3,"sources":["C:/Users/vincent/git/savagerow/front-end/src/Components/Table/TableService.js"],"names":["TableService","TableManager","constructor","table","tableService","getRowSet","onSuccess","onFailure","getRowsOfTable","getSchema","getSchemaOfTable","addRow","rows","index","copyOfRows","newRow","Object","keys","forEach","col","splice","update","updateRowOfTable","oldRow","data","response","delete","deleteRowOfTable","row","save","addRowToTable","assign"],"mappings":"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","sourcesContent":["import TableService from '../../Service/TableServiceHelper';\r\n\r\n\r\nclass TableManager {\r\n    constructor(table) {\r\n        this.table = table\r\n        this.tableService = new TableService()\r\n    }\r\n\r\n    getRowSet(onSuccess, onFailure) {\r\n        this.tableService.getRowsOfTable(this.table, onSuccess, onFailure)\r\n    }\r\n\r\n    getSchema(onSuccess, onFailure) {\r\n        this.tableService.getSchemaOfTable(this.table, onSuccess, onFailure)\r\n    }\r\n\r\n    addRow(rows, index) {\r\n        var copyOfRows = [...rows]\r\n        var newRow = {}\r\n        Object.keys(rows[0]).forEach(col => { newRow[col] = \"\" })\r\n        copyOfRows.splice(index, 0, newRow)\r\n        return copyOfRows\r\n    }\r\n\r\n\r\n    update(rows, newRow, index, onSuccess, onFailure) {\r\n        this.tableService.updateRowOfTable(\r\n            this.table,\r\n            { oldRow: rows[index], newRow: newRow },\r\n            () => {\r\n                var copyOfRows = [...rows]\r\n                copyOfRows[index] = newRow\r\n                onSuccess(copyOfRows)\r\n            },\r\n            (data) => onFailure(data.response.data)\r\n        );\r\n    }\r\n\r\n    delete(rows, index, onSuccess, onFailure) {\r\n        this.tableService.deleteRowOfTable(\r\n            this.table,\r\n            { row: rows[index] },\r\n            () => {\r\n                var copyOfRows = [...rows]\r\n                copyOfRows.splice(index, 1)\r\n                onSuccess(copyOfRows)\r\n            },\r\n            (data) => onFailure(data.response.data)\r\n        )\r\n    }\r\n\r\n    save(rows, index, onSuccess, onFailure) {\r\n        this.tableService.addRowToTable(\r\n            this.table,\r\n            { row: rows[index] },\r\n            (data) => {\r\n                var copyOfRows = Object.assign([], rows, { index: data.data.row })\r\n                onSuccess(copyOfRows)\r\n            },\r\n            (data) => onFailure(data.response.data)\r\n        )\r\n    }\r\n\r\n}\r\nexport default TableManager"]},"metadata":{},"sourceType":"module"}