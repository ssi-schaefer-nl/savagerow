{"ast":null,"code":"import axios from 'axios';\n\nclass HttpHelper {\n  constructor(userService) {\n    this.userService = userService;\n    this.http = axios.create();\n    this.setResponseInterceptor();\n  }\n\n  setResponseInterceptor() {\n    this.http.interceptors.response.use(response => response, error => {\n      const {\n        status\n      } = error.response;\n\n      if (status === 401) {\n        this.userService.logout();\n      }\n\n      return Promise.reject(error);\n    });\n  }\n\n  post(url, data) {\n    return this.http.post(url, data);\n  }\n\n  get(url, onSuccess, onFailure) {\n    let tables = [\"one\", \"two\", \"three\"];\n    let data = {\n      data: tables\n    };\n    onSuccess(data); // this.http({ method: 'get', url: url })\n    // .then(res => { onSuccess(res) })\n    // .catch(res => { onFailure(res) });\n  }\n\n}\n\nexport default HttpHelper;","map":{"version":3,"sources":["C:/Users/vincent/git/playground/src/Service/HttpHelper.js"],"names":["axios","HttpHelper","constructor","userService","http","create","setResponseInterceptor","interceptors","response","use","error","status","logout","Promise","reject","post","url","data","get","onSuccess","onFailure","tables"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAN,CAAiB;AACfC,EAAAA,WAAW,CAACC,WAAD,EAAc;AACvB,SAAKA,WAAL,GAAmBA,WAAnB;AACA,SAAKC,IAAL,GAAYJ,KAAK,CAACK,MAAN,EAAZ;AACA,SAAKC,sBAAL;AAED;;AAEDA,EAAAA,sBAAsB,GAAG;AACvB,SAAKF,IAAL,CAAUG,YAAV,CAAuBC,QAAvB,CAAgCC,GAAhC,CACED,QAAQ,IAAIA,QADd,EAEEE,KAAK,IAAI;AACP,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAK,CAACF,QAAzB;;AACA,UAAIG,MAAM,KAAK,GAAf,EAAoB;AAClB,aAAKR,WAAL,CAAiBS,MAAjB;AACD;;AACD,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,KARH;AAUD;;AAEDK,EAAAA,IAAI,CAACC,GAAD,EAAMC,IAAN,EAAY;AACd,WAAO,KAAKb,IAAL,CAAUW,IAAV,CAAeC,GAAf,EAAoBC,IAApB,CAAP;AACD;;AAEDC,EAAAA,GAAG,CAACF,GAAD,EAAMG,SAAN,EAAiBC,SAAjB,EAA4B;AAC7B,QAAIC,MAAM,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,OAAf,CAAb;AACA,QAAIJ,IAAI,GAAG;AACTA,MAAAA,IAAI,EAAEI;AADG,KAAX;AAGAF,IAAAA,SAAS,CAACF,IAAD,CAAT,CAL6B,CAM7B;AACE;AACA;AACH;;AAlCc;;AAuCjB,eAAehB,UAAf","sourcesContent":["import axios from 'axios';\r\n\r\nclass HttpHelper {\r\n  constructor(userService) {\r\n    this.userService = userService;\r\n    this.http = axios.create();\r\n    this.setResponseInterceptor();\r\n\r\n  }\r\n\r\n  setResponseInterceptor() {\r\n    this.http.interceptors.response.use(\r\n      response => response,\r\n      error => {\r\n        const { status } = error.response;\r\n        if (status === 401) {\r\n          this.userService.logout();\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  post(url, data) {\r\n    return this.http.post(url, data)\r\n  }\r\n\r\n  get(url, onSuccess, onFailure) {\r\n    let tables = [\"one\", \"two\", \"three\"]\r\n    let data = {\r\n      data: tables\r\n    }\r\n    onSuccess(data);\r\n    // this.http({ method: 'get', url: url })\r\n      // .then(res => { onSuccess(res) })\r\n      // .catch(res => { onFailure(res) });\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default HttpHelper;"]},"metadata":{},"sourceType":"module"}