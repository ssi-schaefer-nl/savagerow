{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\nimport listener from './globalEventListener';\nimport AbstractMenu from './AbstractMenu';\nimport SubMenu from './SubMenu';\nimport { hideMenu } from './actions';\nimport { cssClasses, callIfExists, store } from './helpers';\n\nvar ContextMenu = function (_AbstractMenu) {\n  _inherits(ContextMenu, _AbstractMenu);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, props));\n\n    _this.registerHandlers = function () {\n      document.addEventListener('mousedown', _this.handleOutsideClick);\n      document.addEventListener('touchstart', _this.handleOutsideClick);\n      if (!_this.props.preventHideOnScroll) document.addEventListener('scroll', _this.handleHide);\n      if (!_this.props.preventHideOnContextMenu) document.addEventListener('contextmenu', _this.handleHide);\n      document.addEventListener('keydown', _this.handleKeyNavigation);\n      if (!_this.props.preventHideOnResize) window.addEventListener('resize', _this.handleHide);\n    };\n\n    _this.unregisterHandlers = function () {\n      document.removeEventListener('mousedown', _this.handleOutsideClick);\n      document.removeEventListener('touchstart', _this.handleOutsideClick);\n      document.removeEventListener('scroll', _this.handleHide);\n      document.removeEventListener('contextmenu', _this.handleHide);\n      document.removeEventListener('keydown', _this.handleKeyNavigation);\n      window.removeEventListener('resize', _this.handleHide);\n    };\n\n    _this.handleShow = function (e) {\n      if (e.detail.id !== _this.props.id || _this.state.isVisible) return;\n      var _e$detail$position = e.detail.position,\n          x = _e$detail$position.x,\n          y = _e$detail$position.y;\n\n      _this.setState({\n        isVisible: true,\n        x: x,\n        y: y\n      });\n\n      _this.registerHandlers();\n\n      callIfExists(_this.props.onShow, e);\n    };\n\n    _this.handleHide = function (e) {\n      if (_this.state.isVisible && (!e.detail || !e.detail.id || e.detail.id === _this.props.id)) {\n        _this.unregisterHandlers();\n\n        _this.setState({\n          isVisible: false,\n          selectedItem: null,\n          forceSubMenuOpen: false\n        });\n\n        callIfExists(_this.props.onHide, e);\n      }\n    };\n\n    _this.handleOutsideClick = function (e) {\n      if (!_this.menu.contains(e.target)) hideMenu();\n    };\n\n    _this.handleMouseLeave = function (event) {\n      event.preventDefault();\n      callIfExists(_this.props.onMouseLeave, event, assign({}, _this.props.data, store.data), store.target);\n      if (_this.props.hideOnLeave) hideMenu();\n    };\n\n    _this.handleContextMenu = function (e) {\n      if (process.env.NODE_ENV === 'production') {\n        e.preventDefault();\n      }\n\n      _this.handleHide(e);\n    };\n\n    _this.hideMenu = function (e) {\n      if (e.keyCode === 27 || e.keyCode === 13) {\n        // ECS or enter\n        hideMenu();\n      }\n    };\n\n    _this.getMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect();\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (x + rect.width > innerWidth) {\n        menuStyles.left -= rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.getRTLMenuPosition = function () {\n      var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var menuStyles = {\n        top: y,\n        left: x\n      };\n      if (!_this.menu) return menuStyles;\n      var _window2 = window,\n          innerWidth = _window2.innerWidth,\n          innerHeight = _window2.innerHeight;\n\n      var rect = _this.menu.getBoundingClientRect(); // Try to position the menu on the left side of the cursor\n\n\n      menuStyles.left = x - rect.width;\n\n      if (y + rect.height > innerHeight) {\n        menuStyles.top -= rect.height;\n      }\n\n      if (menuStyles.left < 0) {\n        menuStyles.left += rect.width;\n      }\n\n      if (menuStyles.top < 0) {\n        menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyles.left + rect.width > innerWidth) {\n        menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      return menuStyles;\n    };\n\n    _this.menuRef = function (c) {\n      _this.menu = c;\n    };\n\n    _this.state = assign({}, _this.state, {\n      x: 0,\n      y: 0,\n      isVisible: false\n    });\n    return _this;\n  }\n\n  _createClass(ContextMenu, [{\n    key: 'getSubMenuType',\n    value: function getSubMenuType() {\n      // eslint-disable-line class-methods-use-this\n      return SubMenu;\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.listenId = listener.register(this.handleShow, this.handleHide);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var wrapper = window.requestAnimationFrame || setTimeout;\n\n      if (this.state.isVisible) {\n        wrapper(function () {\n          var _state = _this2.state,\n              x = _state.x,\n              y = _state.y;\n\n          var _ref = _this2.props.rtl ? _this2.getRTLMenuPosition(x, y) : _this2.getMenuPosition(x, y),\n              top = _ref.top,\n              left = _ref.left;\n\n          wrapper(function () {\n            if (!_this2.menu) return;\n            _this2.menu.style.top = top + 'px';\n            _this2.menu.style.left = left + 'px';\n            _this2.menu.style.opacity = 1;\n            _this2.menu.style.pointerEvents = 'auto';\n          });\n        });\n      } else {\n        wrapper(function () {\n          if (!_this2.menu) return;\n          _this2.menu.style.opacity = 0;\n          _this2.menu.style.pointerEvents = 'none';\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.listenId) {\n        listener.unregister(this.listenId);\n      }\n\n      this.unregisterHandlers();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          style = _props.style;\n      var isVisible = this.state.isVisible;\n      var inlineStyle = assign({}, style, {\n        position: 'fixed',\n        opacity: 0,\n        pointerEvents: 'none'\n      });\n      var menuClassnames = cx(cssClasses.menu, className, _defineProperty({}, cssClasses.menuVisible, isVisible));\n      return React.createElement('nav', {\n        role: 'menu',\n        tabIndex: '-1',\n        ref: this.menuRef,\n        style: inlineStyle,\n        className: menuClassnames,\n        onContextMenu: this.handleContextMenu,\n        onMouseLeave: this.handleMouseLeave\n      }, this.renderChildren(children));\n    }\n  }]);\n\n  return ContextMenu;\n}(AbstractMenu);\n\nContextMenu.propTypes = {\n  id: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  data: PropTypes.object,\n  className: PropTypes.string,\n  hideOnLeave: PropTypes.bool,\n  rtl: PropTypes.bool,\n  onHide: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onShow: PropTypes.func,\n  preventHideOnContextMenu: PropTypes.bool,\n  preventHideOnResize: PropTypes.bool,\n  preventHideOnScroll: PropTypes.bool,\n  style: PropTypes.object\n};\nContextMenu.defaultProps = {\n  className: '',\n  data: {},\n  hideOnLeave: false,\n  rtl: false,\n  onHide: function onHide() {\n    return null;\n  },\n  onMouseLeave: function onMouseLeave() {\n    return null;\n  },\n  onShow: function onShow() {\n    return null;\n  },\n  preventHideOnContextMenu: false,\n  preventHideOnResize: false,\n  preventHideOnScroll: false,\n  style: {}\n};\nexport default ContextMenu;","map":{"version":3,"sources":["C:/Users/vincent/git/playground/node_modules/react-contextmenu/es6/ContextMenu.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_defineProperty","obj","value","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","React","PropTypes","cx","assign","listener","AbstractMenu","SubMenu","hideMenu","cssClasses","callIfExists","store","ContextMenu","_AbstractMenu","_this","getPrototypeOf","registerHandlers","document","addEventListener","handleOutsideClick","preventHideOnScroll","handleHide","preventHideOnContextMenu","handleKeyNavigation","preventHideOnResize","window","unregisterHandlers","removeEventListener","handleShow","e","detail","id","state","isVisible","_e$detail$position","position","x","y","setState","onShow","selectedItem","forceSubMenuOpen","onHide","menu","contains","handleMouseLeave","event","preventDefault","onMouseLeave","data","hideOnLeave","handleContextMenu","process","env","NODE_ENV","keyCode","getMenuPosition","arguments","undefined","menuStyles","top","left","_window","innerWidth","innerHeight","rect","getBoundingClientRect","height","width","getRTLMenuPosition","_window2","menuRef","c","getSubMenuType","componentDidMount","listenId","register","componentDidUpdate","_this2","wrapper","requestAnimationFrame","setTimeout","_state","_ref","rtl","style","opacity","pointerEvents","componentWillUnmount","unregister","render","_props","children","className","inlineStyle","menuClassnames","menuVisible","createElement","role","tabIndex","ref","onContextMenu","renderChildren","propTypes","string","isRequired","node","object","bool","func","defaultProps"],"mappings":"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","sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport assign from 'object-assign';\n\nimport listener from './globalEventListener';\nimport AbstractMenu from './AbstractMenu';\nimport SubMenu from './SubMenu';\nimport { hideMenu } from './actions';\nimport { cssClasses, callIfExists, store } from './helpers';\n\nvar ContextMenu = function (_AbstractMenu) {\n    _inherits(ContextMenu, _AbstractMenu);\n\n    function ContextMenu(props) {\n        _classCallCheck(this, ContextMenu);\n\n        var _this = _possibleConstructorReturn(this, (ContextMenu.__proto__ || Object.getPrototypeOf(ContextMenu)).call(this, props));\n\n        _this.registerHandlers = function () {\n            document.addEventListener('mousedown', _this.handleOutsideClick);\n            document.addEventListener('touchstart', _this.handleOutsideClick);\n            if (!_this.props.preventHideOnScroll) document.addEventListener('scroll', _this.handleHide);\n            if (!_this.props.preventHideOnContextMenu) document.addEventListener('contextmenu', _this.handleHide);\n            document.addEventListener('keydown', _this.handleKeyNavigation);\n            if (!_this.props.preventHideOnResize) window.addEventListener('resize', _this.handleHide);\n        };\n\n        _this.unregisterHandlers = function () {\n            document.removeEventListener('mousedown', _this.handleOutsideClick);\n            document.removeEventListener('touchstart', _this.handleOutsideClick);\n            document.removeEventListener('scroll', _this.handleHide);\n            document.removeEventListener('contextmenu', _this.handleHide);\n            document.removeEventListener('keydown', _this.handleKeyNavigation);\n            window.removeEventListener('resize', _this.handleHide);\n        };\n\n        _this.handleShow = function (e) {\n            if (e.detail.id !== _this.props.id || _this.state.isVisible) return;\n\n            var _e$detail$position = e.detail.position,\n                x = _e$detail$position.x,\n                y = _e$detail$position.y;\n\n\n            _this.setState({ isVisible: true, x: x, y: y });\n            _this.registerHandlers();\n            callIfExists(_this.props.onShow, e);\n        };\n\n        _this.handleHide = function (e) {\n            if (_this.state.isVisible && (!e.detail || !e.detail.id || e.detail.id === _this.props.id)) {\n                _this.unregisterHandlers();\n                _this.setState({ isVisible: false, selectedItem: null, forceSubMenuOpen: false });\n                callIfExists(_this.props.onHide, e);\n            }\n        };\n\n        _this.handleOutsideClick = function (e) {\n            if (!_this.menu.contains(e.target)) hideMenu();\n        };\n\n        _this.handleMouseLeave = function (event) {\n            event.preventDefault();\n\n            callIfExists(_this.props.onMouseLeave, event, assign({}, _this.props.data, store.data), store.target);\n\n            if (_this.props.hideOnLeave) hideMenu();\n        };\n\n        _this.handleContextMenu = function (e) {\n            if (process.env.NODE_ENV === 'production') {\n                e.preventDefault();\n            }\n            _this.handleHide(e);\n        };\n\n        _this.hideMenu = function (e) {\n            if (e.keyCode === 27 || e.keyCode === 13) {\n                // ECS or enter\n                hideMenu();\n            }\n        };\n\n        _this.getMenuPosition = function () {\n            var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n            var menuStyles = {\n                top: y,\n                left: x\n            };\n\n            if (!_this.menu) return menuStyles;\n\n            var _window = window,\n                innerWidth = _window.innerWidth,\n                innerHeight = _window.innerHeight;\n\n            var rect = _this.menu.getBoundingClientRect();\n\n            if (y + rect.height > innerHeight) {\n                menuStyles.top -= rect.height;\n            }\n\n            if (x + rect.width > innerWidth) {\n                menuStyles.left -= rect.width;\n            }\n\n            if (menuStyles.top < 0) {\n                menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n            }\n\n            if (menuStyles.left < 0) {\n                menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n            }\n\n            return menuStyles;\n        };\n\n        _this.getRTLMenuPosition = function () {\n            var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n            var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n            var menuStyles = {\n                top: y,\n                left: x\n            };\n\n            if (!_this.menu) return menuStyles;\n\n            var _window2 = window,\n                innerWidth = _window2.innerWidth,\n                innerHeight = _window2.innerHeight;\n\n            var rect = _this.menu.getBoundingClientRect();\n\n            // Try to position the menu on the left side of the cursor\n            menuStyles.left = x - rect.width;\n\n            if (y + rect.height > innerHeight) {\n                menuStyles.top -= rect.height;\n            }\n\n            if (menuStyles.left < 0) {\n                menuStyles.left += rect.width;\n            }\n\n            if (menuStyles.top < 0) {\n                menuStyles.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n            }\n\n            if (menuStyles.left + rect.width > innerWidth) {\n                menuStyles.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n            }\n\n            return menuStyles;\n        };\n\n        _this.menuRef = function (c) {\n            _this.menu = c;\n        };\n\n        _this.state = assign({}, _this.state, {\n            x: 0,\n            y: 0,\n            isVisible: false\n        });\n        return _this;\n    }\n\n    _createClass(ContextMenu, [{\n        key: 'getSubMenuType',\n        value: function getSubMenuType() {\n            // eslint-disable-line class-methods-use-this\n            return SubMenu;\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.listenId = listener.register(this.handleShow, this.handleHide);\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            var _this2 = this;\n\n            var wrapper = window.requestAnimationFrame || setTimeout;\n            if (this.state.isVisible) {\n                wrapper(function () {\n                    var _state = _this2.state,\n                        x = _state.x,\n                        y = _state.y;\n\n                    var _ref = _this2.props.rtl ? _this2.getRTLMenuPosition(x, y) : _this2.getMenuPosition(x, y),\n                        top = _ref.top,\n                        left = _ref.left;\n\n                    wrapper(function () {\n                        if (!_this2.menu) return;\n                        _this2.menu.style.top = top + 'px';\n                        _this2.menu.style.left = left + 'px';\n                        _this2.menu.style.opacity = 1;\n                        _this2.menu.style.pointerEvents = 'auto';\n                    });\n                });\n            } else {\n                wrapper(function () {\n                    if (!_this2.menu) return;\n                    _this2.menu.style.opacity = 0;\n                    _this2.menu.style.pointerEvents = 'none';\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.listenId) {\n                listener.unregister(this.listenId);\n            }\n\n            this.unregisterHandlers();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                children = _props.children,\n                className = _props.className,\n                style = _props.style;\n            var isVisible = this.state.isVisible;\n\n            var inlineStyle = assign({}, style, { position: 'fixed', opacity: 0, pointerEvents: 'none' });\n            var menuClassnames = cx(cssClasses.menu, className, _defineProperty({}, cssClasses.menuVisible, isVisible));\n\n            return React.createElement(\n                'nav',\n                {\n                    role: 'menu', tabIndex: '-1', ref: this.menuRef, style: inlineStyle, className: menuClassnames,\n                    onContextMenu: this.handleContextMenu, onMouseLeave: this.handleMouseLeave },\n                this.renderChildren(children)\n            );\n        }\n    }]);\n\n    return ContextMenu;\n}(AbstractMenu);\n\nContextMenu.propTypes = {\n    id: PropTypes.string.isRequired,\n    children: PropTypes.node.isRequired,\n    data: PropTypes.object,\n    className: PropTypes.string,\n    hideOnLeave: PropTypes.bool,\n    rtl: PropTypes.bool,\n    onHide: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onShow: PropTypes.func,\n    preventHideOnContextMenu: PropTypes.bool,\n    preventHideOnResize: PropTypes.bool,\n    preventHideOnScroll: PropTypes.bool,\n    style: PropTypes.object\n};\nContextMenu.defaultProps = {\n    className: '',\n    data: {},\n    hideOnLeave: false,\n    rtl: false,\n    onHide: function onHide() {\n        return null;\n    },\n    onMouseLeave: function onMouseLeave() {\n        return null;\n    },\n    onShow: function onShow() {\n        return null;\n    },\n\n    preventHideOnContextMenu: false,\n    preventHideOnResize: false,\n    preventHideOnScroll: false,\n    style: {}\n};\nexport default ContextMenu;"]},"metadata":{},"sourceType":"module"}