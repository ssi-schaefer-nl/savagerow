{"ast":null,"code":"import axios from 'axios';\n\nclass HttpHelper {\n  constructor(userService) {\n    this.userService = userService;\n    this.http = axios.create();\n    this.setResponseInterceptor();\n  }\n\n  setResponseInterceptor() {\n    this.http.interceptors.response.use(response => response, error => {\n      const {\n        status\n      } = error.response;\n\n      if (status === 401) {\n        this.userService.logout();\n      }\n\n      return Promise.reject(error);\n    });\n  }\n\n  post(url, data, onSuccess, onFailure) {\n    this.http.post(url, data).then(res => {\n      onSuccess(res);\n    }).catch(res => {\n      onFailure(res);\n    });\n  }\n\n  get(url, onSuccess, onFailure) {\n    this.http({\n      method: 'get',\n      url: url\n    }).then(res => {\n      onSuccess(res);\n    }).catch(res => {\n      onFailure(res);\n    });\n  }\n\n}\n\nexport default HttpHelper;","map":{"version":3,"sources":["C:/Users/vincent/git/playground/src/Service/HttpHelper.js"],"names":["axios","HttpHelper","constructor","userService","http","create","setResponseInterceptor","interceptors","response","use","error","status","logout","Promise","reject","post","url","data","onSuccess","onFailure","then","res","catch","get","method"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,UAAN,CAAiB;AACfC,EAAAA,WAAW,CAACC,WAAD,EAAc;AACvB,SAAKA,WAAL,GAAmBA,WAAnB;AACA,SAAKC,IAAL,GAAYJ,KAAK,CAACK,MAAN,EAAZ;AACA,SAAKC,sBAAL;AAED;;AAEDA,EAAAA,sBAAsB,GAAG;AACvB,SAAKF,IAAL,CAAUG,YAAV,CAAuBC,QAAvB,CAAgCC,GAAhC,CACED,QAAQ,IAAIA,QADd,EAEEE,KAAK,IAAI;AACP,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAK,CAACF,QAAzB;;AACA,UAAIG,MAAM,KAAK,GAAf,EAAoB;AAClB,aAAKR,WAAL,CAAiBS,MAAjB;AACD;;AACD,aAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,KARH;AAUD;;AAEDK,EAAAA,IAAI,CAACC,GAAD,EAAMC,IAAN,EAAYC,SAAZ,EAAuBC,SAAvB,EAAkC;AACpC,SAAKf,IAAL,CAAUW,IAAV,CAAeC,GAAf,EAAoBC,IAApB,EACGG,IADH,CACQC,GAAG,IAAI;AAAEH,MAAAA,SAAS,CAACG,GAAD,CAAT;AAAgB,KADjC,EAEGC,KAFH,CAESD,GAAG,IAAI;AAAEF,MAAAA,SAAS,CAACE,GAAD,CAAT;AAAgB,KAFlC;AAGD;;AAEDE,EAAAA,GAAG,CAACP,GAAD,EAAME,SAAN,EAAiBC,SAAjB,EAA4B;AAE7B,SAAKf,IAAL,CAAU;AAAEoB,MAAAA,MAAM,EAAE,KAAV;AAAiBR,MAAAA,GAAG,EAAEA;AAAtB,KAAV,EACGI,IADH,CACQC,GAAG,IAAI;AAAEH,MAAAA,SAAS,CAACG,GAAD,CAAT;AAAgB,KADjC,EAEGC,KAFH,CAESD,GAAG,IAAI;AAAEF,MAAAA,SAAS,CAACE,GAAD,CAAT;AAAgB,KAFlC;AAGD;;AAhCc;;AAqCjB,eAAepB,UAAf","sourcesContent":["import axios from 'axios';\r\n\r\nclass HttpHelper {\r\n  constructor(userService) {\r\n    this.userService = userService;\r\n    this.http = axios.create();\r\n    this.setResponseInterceptor();\r\n\r\n  }\r\n\r\n  setResponseInterceptor() {\r\n    this.http.interceptors.response.use(\r\n      response => response,\r\n      error => {\r\n        const { status } = error.response;\r\n        if (status === 401) {\r\n          this.userService.logout();\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  post(url, data, onSuccess, onFailure) {\r\n    this.http.post(url, data)\r\n      .then(res => { onSuccess(res) })\r\n      .catch(res => { onFailure(res) });\r\n  }\r\n\r\n  get(url, onSuccess, onFailure) {\r\n\r\n    this.http({ method: 'get', url: url })\r\n      .then(res => { onSuccess(res) })\r\n      .catch(res => { onFailure(res) });\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default HttpHelper;"]},"metadata":{},"sourceType":"module"}