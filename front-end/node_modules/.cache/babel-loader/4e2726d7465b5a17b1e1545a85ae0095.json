{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = dragOperation;\n\nvar _without = require('lodash/without');\n\nvar _without2 = _interopRequireDefault(_without);\n\nvar _dragDrop = require('../actions/dragDrop');\n\nvar _registry = require('../actions/registry');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\n\nfunction dragOperation() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case _dragDrop.BEGIN_DRAG:\n      return _extends({}, state, {\n        itemType: action.itemType,\n        item: action.item,\n        sourceId: action.sourceId,\n        isSourcePublic: action.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case _dragDrop.PUBLISH_DRAG_SOURCE:\n      return _extends({}, state, {\n        isSourcePublic: true\n      });\n\n    case _dragDrop.HOVER:\n      return _extends({}, state, {\n        targetIds: action.targetIds\n      });\n\n    case _registry.REMOVE_TARGET:\n      if (state.targetIds.indexOf(action.targetId) === -1) {\n        return state;\n      }\n\n      return _extends({}, state, {\n        targetIds: (0, _without2.default)(state.targetIds, action.targetId)\n      });\n\n    case _dragDrop.DROP:\n      return _extends({}, state, {\n        dropResult: action.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case _dragDrop.END_DRAG:\n      return _extends({}, state, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/vincent/git/savagerow/front-end/node_modules/dnd-core/lib/reducers/dragOperation.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","default","dragOperation","_without","require","_without2","_interopRequireDefault","_dragDrop","_registry","obj","__esModule","initialState","itemType","item","sourceId","targetIds","dropResult","didDrop","isSourcePublic","state","undefined","action","type","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","REMOVE_TARGET","indexOf","targetId","DROP","END_DRAG"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = dragOperation;\n\nvar _without = require('lodash/without');\n\nvar _without2 = _interopRequireDefault(_without);\n\nvar _dragDrop = require('../actions/dragDrop');\n\nvar _registry = require('../actions/registry');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar initialState = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null\n};\n\nfunction dragOperation() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase _dragDrop.BEGIN_DRAG:\n\t\t\treturn _extends({}, state, {\n\t\t\t\titemType: action.itemType,\n\t\t\t\titem: action.item,\n\t\t\t\tsourceId: action.sourceId,\n\t\t\t\tisSourcePublic: action.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false\n\t\t\t});\n\t\tcase _dragDrop.PUBLISH_DRAG_SOURCE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tisSourcePublic: true\n\t\t\t});\n\t\tcase _dragDrop.HOVER:\n\t\t\treturn _extends({}, state, {\n\t\t\t\ttargetIds: action.targetIds\n\t\t\t});\n\t\tcase _registry.REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(action.targetId) === -1) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn _extends({}, state, {\n\t\t\t\ttargetIds: (0, _without2.default)(state.targetIds, action.targetId)\n\t\t\t});\n\t\tcase _dragDrop.DROP:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tdropResult: action.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: []\n\t\t\t});\n\t\tcase _dragDrop.END_DRAG:\n\t\t\treturn _extends({}, state, {\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: []\n\t\t\t});\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}"]},"metadata":{},"sourceType":"script"}