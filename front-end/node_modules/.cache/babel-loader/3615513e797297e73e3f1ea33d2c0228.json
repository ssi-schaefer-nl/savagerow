{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vincent\\\\git\\\\savagerow\\\\front-end\\\\src\\\\Views\\\\Tables.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport SavageTable from \"../Components/Table/Table\";\nimport { Button, Toolbar } from \"@material-ui/core\";\nimport CollapsableAlert from \"../Components/CollapsableAlert/CollapsableAlert\";\nimport DatabaseSelect from \"../Components/DatabaseSelect/DatabaseSelect\";\nimport QueryService from \"../Service/QueryService/QueryService\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Tables = props => {\n  _s();\n\n  const classes = useStyles();\n  const database = localStorage.getItem(\"database\");\n  const [tables, setTables] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  useEffect(() => {\n    new QueryService().getTables(data => {\n      setTables(data.data);\n      setLoading(false);\n    }, () => {\n      setLoading(true);\n      setError(true);\n    });\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n  if (database == null) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      style: {\n        marginBottom: \"2em\"\n      },\n      children: \"No database is selected. Please select a database\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DatabaseSelect, {\n      onSelect: () => window.location.reload(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(CollapsableAlert, {\n      severity: \"error\",\n      message: \"Error while retrieving tables for database: \" + database\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      color: \"default\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"primary\",\n          style: {\n            marginRight: \"1em\",\n            fontWeight: \"bold\"\n          },\n          children: database\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n          selectionFollowsFocus: true,\n          value: value,\n          onChange: handleChange,\n          indicatorColor: \"primary\",\n          textColor: \"secundary\",\n          variant: \"scrollable\",\n          scrollButtons: \"auto\",\n          \"aria-label\": \"scrollable auto tabs example\",\n          children: tables.map((table, index) => /*#__PURE__*/_jsxDEV(Tab, {\n            label: table,\n            ...a11yProps(index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), tables.map((table, index) => /*#__PURE__*/_jsxDEV(TabPanel, {\n      value: value,\n      index: index,\n      children: /*#__PURE__*/_jsxDEV(SavageTable, {\n        table: table\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Tables, \"ynnLvwPdSevp+5aSrqNgo7fyVvY=\", false, function () {\n  return [useStyles];\n});\n\n_c = Tables;\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `scrollable-auto-tabpanel-${index}`,\n    \"aria-labelledby\": `scrollable-auto-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width: '100%'\n  }\n}));\nexport default Tables;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Tables\");\n$RefreshReg$(_c2, \"TabPanel\");","map":{"version":3,"sources":["C:/Users/vincent/git/savagerow/front-end/src/Views/Tables.js"],"names":["React","Component","useState","useEffect","PropTypes","makeStyles","AppBar","Tabs","Tab","Typography","Box","SavageTable","Button","Toolbar","CollapsableAlert","DatabaseSelect","QueryService","Tables","props","classes","useStyles","database","localStorage","getItem","tables","setTables","loading","setLoading","error","setError","value","setValue","handleChange","event","newValue","getTables","data","marginBottom","window","location","reload","root","marginRight","fontWeight","map","table","index","a11yProps","TabPanel","children","other","propTypes","node","any","isRequired","id","theme","flexGrow","width"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport SavageTable from \"../Components/Table/Table\";\nimport { Button, Toolbar } from \"@material-ui/core\";\nimport CollapsableAlert from \"../Components/CollapsableAlert/CollapsableAlert\";\nimport DatabaseSelect from \"../Components/DatabaseSelect/DatabaseSelect\";\nimport QueryService from \"../Service/QueryService/QueryService\";\n\nconst Tables = (props) => {\n  const classes = useStyles();\n  const database = localStorage.getItem(\"database\")\n  const [tables, setTables] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  useEffect(() => {\n    new QueryService().getTables(\n      (data) => {\n        setTables(data.data)\n        setLoading(false)\n      },\n      () => {\n        setLoading(true)\n        setError(true)\n      })\n  }, [])\n\n\n\n  if (loading) {\n    return (<></>)\n  }\n\n  if (database == null) return (\n    <div>\n      <Typography style={{ marginBottom: \"2em\" }}>No database is selected. Please select a database</Typography>\n      <DatabaseSelect onSelect={() => window.location.reload(false)} />\n    </div>\n  )\n  if (error) {\n    return (<CollapsableAlert severity=\"error\" message={\"Error while retrieving tables for database: \" + database} />)\n  }\n\n  return (\n    <div className={classes.root}>\n\n      <AppBar color=\"default\">\n        <Toolbar>\n          <Typography variant=\"h6\" color=\"primary\" style={{ marginRight: \"1em\", fontWeight: \"bold\" }}>\n            {database}\n          </Typography>\n          <Tabs\n            selectionFollowsFocus\n            value={value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"secundary\"\n            variant=\"scrollable\"\n\n            scrollButtons=\"auto\"\n            aria-label=\"scrollable auto tabs example\"\n          >\n            {tables.map((table, index) => (\n              <Tab label={table} {...a11yProps(index)} />\n            ))}\n\n          </Tabs>\n\n        </Toolbar>\n      </AppBar>\n\n      {tables.map((table, index) => (\n        <TabPanel value={value} index={index}  >\n          <SavageTable table={table} />\n        </TabPanel>\n      ))}\n    </div>\n  );\n\n}\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    'aria-controls': `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n  },\n}));\n\nexport default Tables;"]},"metadata":{},"sourceType":"module"}