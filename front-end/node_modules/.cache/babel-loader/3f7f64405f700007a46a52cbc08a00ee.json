{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vincent\\\\git\\\\savagerow\\\\front-end\\\\src\\\\Components\\\\Table\\\\DataGrid\\\\DataGridTable.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport DataGrid, { TextEditor, Row as GridRow } from \"react-data-grid\";\nimport React, { useState } from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from 'react-contextmenu';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport './react-contextmenu.css';\nimport './highlight.css';\nimport AddIcon from '@material-ui/icons/Add';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { Grid, Typography } from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport TextFormatIcon from '@material-ui/icons/TextFormat';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport { Delete, Filter } from \"@material-ui/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LightTooltip = withStyles(theme => ({\n  tooltip: {\n    backgroundColor: theme.palette.common.white,\n    color: 'rgba(0, 0, 0, 0.87)',\n    boxShadow: theme.shadows[1],\n    fontSize: 12\n  }\n}))(Tooltip);\n\nconst DataGridTable = props => {\n  _s();\n\n  const [selectedColumn, setSelectedColumn] = useState(null);\n  const [selectedRow, setSelectedRow] = useState(null);\n  const [openColumnFilter, setOpenColumnFilter] = useState(false);\n  const [columnFilters, setColumnFilters] = useState([]);\n  var rows = [...props.rows];\n  const onRowChange = props.onRowChange;\n  const highlightedRows = props.highlightRows ? props.highlightRows : [];\n\n  const HeaderRenderer = item => {\n    return /*#__PURE__*/_jsxDEV(ContextMenuTrigger, {\n      id: \"header-context-menu\",\n      collect: () => {\n        setSelectedColumn(item.column.name);\n        return {\n          column: item.column.key\n        };\n      },\n      holdToDisplay: \"-1\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        autoComplete: \"off\" // margin=\"dense\"\n        ,\n        id: \"name\",\n        defaultValue: item.column.name,\n        required: true,\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  };\n\n  const RowRenderer = props => {\n    var classname = \"row\";\n    var rowTooltip = \"\";\n    var highlightedRow = highlightedRows.find(hr => hr.id == props.rowIdx);\n\n    if (highlightedRow != undefined) {\n      rowTooltip = highlightedRow.message;\n      classname = highlightedRow.type === \"warning\" ? \"row-warning\" : \"row-error\";\n    }\n\n    return /*#__PURE__*/_jsxDEV(ContextMenuTrigger, {\n      id: \"grid-context-menu\",\n      collect: () => {\n        setSelectedRow(props.rowIdx);\n        return {\n          rowIdx: props.rowIdx\n        };\n      },\n      holdToDisplay: \"-1\",\n      children: highlightedRow == undefined ? /*#__PURE__*/_jsxDEV(GridRow, { ...props,\n        className: classname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(LightTooltip, {\n        title: rowTooltip,\n        enterDelay: 1000,\n        enterNextDelay: 1000,\n        interactive: true,\n        placement: \"bottom-start\",\n        arrow: true,\n        children: /*#__PURE__*/_jsxDEV(GridRow, { ...props,\n          className: classname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this);\n  };\n\n  const columns = props.columns.map(col => ({\n    key: col.column,\n    name: col.column,\n    headerRenderer: HeaderRenderer,\n    resizable: true,\n    nullable: col.nullable,\n    editor: col.editable ? TextEditor : undefined\n  }));\n\n  const onRowDelete = (e, {\n    rowIdx\n  }) => props.onDelete(rowIdx);\n\n  const onRowInsert = (e, {\n    rowIdx\n  }) => props.onInsert(rowIdx);\n\n  const onRowSave = (e, {\n    rowIdx\n  }) => props.onSave(rowIdx);\n\n  const onRefresh = (e, {\n    rowIdx\n  }) => props.onRefresh(rowIdx);\n\n  const onColumnDelete = (e, {\n    column\n  }) => props.onColumnDelete(column);\n\n  const onColumnRename = (e, {\n    column\n  }) => {};\n\n  const onColumnInsert = (e, {\n    column\n  }) => props.onColumnInsert(column);\n\n  const onColumnFilter = e => setOpenColumnFilter(true);\n\n  const rowContextMenu = [{\n    text: \"Save Row\",\n    icon: PublishIcon,\n    onClick: onRowSave\n  }, {\n    text: \"Delete Row\",\n    icon: DeleteIcon,\n    onClick: onRowDelete\n  }, {\n    text: \"Insert Row\",\n    icon: AddIcon,\n    onClick: onRowInsert,\n    dividerAfter: true\n  }, {\n    text: \"Refresh Table\",\n    icon: RefreshIcon,\n    onClick: onRefresh\n  }];\n  const columnContextMenu = [{\n    text: \"Delete Column\",\n    icon: Delete,\n    onClick: onColumnDelete\n  }, {\n    text: \"Rename Column\",\n    icon: TextFormatIcon,\n    onClick: onColumnRename,\n    dividerAfter: true\n  }, {\n    text: \"Add Column\",\n    icon: AddIcon,\n    onClick: onColumnInsert,\n    dividerAfter: true\n  }, {\n    text: \"Show/Hide Columns\",\n    icon: FilterListIcon,\n    onClick: onColumnFilter\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DataGrid, {\n      columns: columnFilters.length > 0 ? columns.filter(f => columnFilters.includes(f.name)) : columns,\n      rows: rows,\n      onRowsChange: (updatedRows, index) => {\n        var idx = index.indexes[0];\n        rows[idx] = updatedRows[idx];\n        onRowChange(updatedRows[idx], idx);\n      },\n      rowGetter: i => rows[i],\n      enableCellSelect: true,\n      rowRenderer: RowRenderer,\n      headerRenderer: HeaderRenderer,\n      style: {\n        height: \"60vh\",\n        overflowX: 'hidden'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableContextMenu, {\n      id: \"grid-context-menu\",\n      title: \"Row \" + selectedRow,\n      items: rowContextMenu\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableContextMenu, {\n      id: \"header-context-menu\",\n      title: selectedColumn,\n      items: columnContextMenu\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HideColumnsPopup, {\n      open: openColumnFilter,\n      values: columns.map(col => col.name),\n      selection: columnFilters,\n      onApply: i => {\n        setColumnFilters(i);\n        setOpenColumnFilter(false);\n      },\n      onCancel: () => setOpenColumnFilter(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DataGridTable, \"QAZ37Ly0JA8rm88XsUXoN6KGqk8=\");\n\n_c = DataGridTable;\n\nfunction TableContextMenu(props) {\n  const {\n    title,\n    id,\n    items\n  } = props;\n  return /*#__PURE__*/_jsxDEV(ContextMenu, {\n    id: id,\n    style: {\n      background: \"#fafafa\",\n      borderRadius: \"0px 30px 0px 0px\",\n      boxShadow: \"2px 2px  5px grey\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n      disabled: true,\n      children: /*#__PURE__*/_jsxDEV(\"b\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n      divider: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this), items.map(item => /*#__PURE__*/_jsxDEV(ContextMenuItem, {\n      onClick: item.onClick,\n      text: item.text,\n      icon: item.icon,\n      dividerAfter: item.dividerAfter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 33\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = TableContextMenu;\n\nfunction ContextMenuItem(props) {\n  const {\n    onClick,\n    text,\n    dividerAfter\n  } = props;\n  const MenuIcon = props.icon;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n      onClick: onClick,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"row\",\n        alignItems: \"center\",\n        spacing: 2,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {\n            fontSize: \"small\",\n            style: {\n              position: 'relative',\n              top: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this), dividerAfter && /*#__PURE__*/_jsxDEV(MenuItem, {\n      divider: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 30\n    }, this)]\n  }, void 0, true);\n}\n\n_c3 = ContextMenuItem;\n\nfunction HideColumnsPopup(props) {\n  _s2();\n\n  const {\n    open,\n    values,\n    onApply,\n    onCancel\n  } = props;\n  const initialSelection = props.selection;\n  const [selection, setSelection] = useState(props.selection);\n\n  const onEnter = e => {\n    e.preventDefault();\n    onApply(selection);\n  };\n\n  const cancel = e => {\n    setSelection(initialSelection);\n    onCancel();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      \"aria-labelledby\": \"form-dialog-title\",\n      onClose: cancel,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onEnter,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"form-dialog-title\",\n          children: \"Show/Hide Columns\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: \"column\",\n            children: values.map(v => /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                label: v,\n                control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                  checked: selection.includes(v),\n                  onChange: e => {\n                    if (e.target.checked && !selection.includes(v)) {\n                      setSelection(s => [...s, v]);\n                    } else if (!e.target.checked && selection.includes(v)) {\n                      const i = selection.indexOf(v);\n                      setSelection(s => [...s.slice(0, i), ...s.slice(i + 1)]);\n                    }\n                  },\n                  name: v,\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            type: \"submit\",\n            children: \"Apply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setSelection([]),\n            color: \"primary\",\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(HideColumnsPopup, \"8c5+p1JFblQQjdEO3q2llzuPzGo=\");\n\n_c4 = HideColumnsPopup;\nexport default DataGridTable;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"DataGridTable\");\n$RefreshReg$(_c2, \"TableContextMenu\");\n$RefreshReg$(_c3, \"ContextMenuItem\");\n$RefreshReg$(_c4, \"HideColumnsPopup\");","map":{"version":3,"sources":["C:/Users/vincent/git/savagerow/front-end/src/Components/Table/DataGrid/DataGridTable.js"],"names":["DataGrid","TextEditor","Row","GridRow","React","useState","withStyles","makeStyles","ContextMenu","MenuItem","SubMenu","ContextMenuTrigger","Tooltip","AddIcon","TextField","Button","Dialog","DialogActions","DialogContent","DialogTitle","Checkbox","Grid","Typography","FormControlLabel","FilterListIcon","TextFormatIcon","DeleteIcon","RefreshIcon","PublishIcon","Delete","Filter","LightTooltip","theme","tooltip","backgroundColor","palette","common","white","color","boxShadow","shadows","fontSize","DataGridTable","props","selectedColumn","setSelectedColumn","selectedRow","setSelectedRow","openColumnFilter","setOpenColumnFilter","columnFilters","setColumnFilters","rows","onRowChange","highlightedRows","highlightRows","HeaderRenderer","item","column","name","key","RowRenderer","classname","rowTooltip","highlightedRow","find","hr","id","rowIdx","undefined","message","type","columns","map","col","headerRenderer","resizable","nullable","editor","editable","onRowDelete","e","onDelete","onRowInsert","onInsert","onRowSave","onSave","onRefresh","onColumnDelete","onColumnRename","onColumnInsert","onColumnFilter","rowContextMenu","text","icon","onClick","dividerAfter","columnContextMenu","length","filter","f","includes","updatedRows","index","idx","indexes","i","height","overflowX","TableContextMenu","title","items","background","borderRadius","ContextMenuItem","MenuIcon","position","top","HideColumnsPopup","open","values","onApply","onCancel","initialSelection","selection","setSelection","onEnter","preventDefault","cancel","v","target","checked","s","indexOf","slice"],"mappings":"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","sourcesContent":["import DataGrid, { TextEditor, Row as GridRow } from \"react-data-grid\";\r\nimport React, { useState } from 'react';\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport { ContextMenu, MenuItem, SubMenu, ContextMenuTrigger } from 'react-contextmenu';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport './react-contextmenu.css'\r\nimport './highlight.css'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Grid, Typography } from '@material-ui/core';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport TextFormatIcon from '@material-ui/icons/TextFormat';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport { Delete, Filter } from \"@material-ui/icons\";\r\n\r\n\r\nconst LightTooltip = withStyles((theme) => ({\r\n    tooltip: {\r\n        backgroundColor: theme.palette.common.white,\r\n        color: 'rgba(0, 0, 0, 0.87)',\r\n        boxShadow: theme.shadows[1],\r\n        fontSize: 12,\r\n    },\r\n}))(Tooltip);\r\n\r\nconst DataGridTable = (props) => {\r\n    const [selectedColumn, setSelectedColumn] = useState(null)\r\n    const [selectedRow, setSelectedRow] = useState(null)\r\n    const [openColumnFilter, setOpenColumnFilter] = useState(false)\r\n    const [columnFilters, setColumnFilters] = useState([])\r\n\r\n    var rows = [...props.rows]\r\n    const onRowChange = props.onRowChange\r\n    const highlightedRows = props.highlightRows ? props.highlightRows : []\r\n\r\n\r\n    const HeaderRenderer = (item) => {\r\n        return (\r\n            <ContextMenuTrigger\r\n                id=\"header-context-menu\"\r\n                collect={() => {\r\n                    setSelectedColumn(item.column.name)\r\n                    return ({ column: item.column.key })\r\n                }}\r\n                holdToDisplay=\"-1\"\r\n            >\r\n                    <TextField\r\n                        autoFocus\r\n                        autoComplete='off'\r\n                        // margin=\"dense\"\r\n                        id=\"name\"\r\n                        defaultValue={item.column.name}\r\n                        required\r\n                        fullWidth\r\n                    />\r\n                \r\n            </ContextMenuTrigger>\r\n        )\r\n\r\n    }\r\n\r\n    const RowRenderer = (props) => {\r\n        var classname = \"row\"\r\n        var rowTooltip = \"\"\r\n\r\n        var highlightedRow = highlightedRows.find(hr => hr.id == props.rowIdx)\r\n        if (highlightedRow != undefined) {\r\n            rowTooltip = highlightedRow.message\r\n            classname = highlightedRow.type === \"warning\" ? \"row-warning\" : \"row-error\"\r\n        }\r\n\r\n        return (\r\n            <ContextMenuTrigger id=\"grid-context-menu\" collect={() => {\r\n                setSelectedRow(props.rowIdx)\r\n                return ({ rowIdx: props.rowIdx })\r\n            }}\r\n                holdToDisplay=\"-1\"\r\n            >\r\n                {highlightedRow == undefined ?\r\n                    <GridRow {...props} className={classname} />\r\n                    :\r\n                    <LightTooltip\r\n                        title={rowTooltip}\r\n                        enterDelay={1000}\r\n                        enterNextDelay={1000}\r\n                        interactive\r\n                        placement=\"bottom-start\"\r\n                        arrow\r\n                    >\r\n                        <GridRow {...props} className={classname} />\r\n                    </LightTooltip>\r\n                }\r\n            </ContextMenuTrigger>\r\n        );\r\n    }\r\n\r\n\r\n\r\n    const columns = props.columns.map(col => ({\r\n        key: col.column,\r\n        name: col.column,\r\n        headerRenderer: HeaderRenderer,\r\n        resizable: true,\r\n        nullable: col.nullable,\r\n        editor: col.editable ? TextEditor : undefined\r\n    }));\r\n\r\n\r\n    const onRowDelete = (e, { rowIdx }) => props.onDelete(rowIdx)\r\n    const onRowInsert = (e, { rowIdx }) => props.onInsert(rowIdx)\r\n    const onRowSave = (e, { rowIdx }) => props.onSave(rowIdx)\r\n    const onRefresh = (e, { rowIdx }) => props.onRefresh(rowIdx)\r\n    const onColumnDelete = (e, { column }) => props.onColumnDelete(column)\r\n    const onColumnRename = (e, { column }) => { }\r\n    const onColumnInsert = (e, { column }) => props.onColumnInsert(column)\r\n    const onColumnFilter = (e) => setOpenColumnFilter(true)\r\n\r\n\r\n\r\n    const rowContextMenu = [\r\n        { text: \"Save Row\", icon: PublishIcon, onClick: onRowSave },\r\n        { text: \"Delete Row\", icon: DeleteIcon, onClick: onRowDelete },\r\n        { text: \"Insert Row\", icon: AddIcon, onClick: onRowInsert, dividerAfter: true },\r\n        { text: \"Refresh Table\", icon: RefreshIcon, onClick: onRefresh },\r\n    ]\r\n\r\n    const columnContextMenu = [\r\n        { text: \"Delete Column\", icon: Delete, onClick: onColumnDelete },\r\n        { text: \"Rename Column\", icon: TextFormatIcon, onClick: onColumnRename, dividerAfter: true },\r\n        { text: \"Add Column\", icon: AddIcon, onClick: onColumnInsert, dividerAfter: true },\r\n        { text: \"Show/Hide Columns\", icon: FilterListIcon, onClick: onColumnFilter },\r\n    ]\r\n\r\n    return (\r\n        <>\r\n            <DataGrid\r\n                columns={columnFilters.length > 0 ? columns.filter(f => columnFilters.includes(f.name)) : columns}\r\n                rows={rows}\r\n                onRowsChange={(updatedRows, index) => {\r\n                    var idx = index.indexes[0]\r\n                    rows[idx] = updatedRows[idx]\r\n                    onRowChange(updatedRows[idx], idx)\r\n                }}\r\n                rowGetter={i => rows[i]}\r\n                enableCellSelect={true}\r\n                rowRenderer={RowRenderer}\r\n                headerRenderer={HeaderRenderer}\r\n                style={{ height: \"60vh\", overflowX: 'hidden' }}\r\n            />\r\n\r\n            <TableContextMenu\r\n                id=\"grid-context-menu\"\r\n                title={\"Row \" + selectedRow}\r\n                items={rowContextMenu}\r\n            />\r\n\r\n            <TableContextMenu\r\n                id=\"header-context-menu\"\r\n                title={selectedColumn}\r\n                items={columnContextMenu}\r\n            />\r\n\r\n            <HideColumnsPopup\r\n                open={openColumnFilter}\r\n                values={columns.map(col => col.name)}\r\n                selection={columnFilters}\r\n                onApply={(i) => { setColumnFilters(i); setOpenColumnFilter(false) }}\r\n                onCancel={() => setOpenColumnFilter(false)}\r\n            />\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nfunction TableContextMenu(props) {\r\n    const { title, id, items } = props\r\n\r\n    return (\r\n        <ContextMenu\r\n            id={id}\r\n            style={{ background: \"#fafafa\", borderRadius: \"0px 30px 0px 0px\", boxShadow: \"2px 2px  5px grey\" }}\r\n        >\r\n            <MenuItem disabled><b>{title}</b></MenuItem>\r\n            <MenuItem divider />\r\n            {items.map(item => (<ContextMenuItem onClick={item.onClick} text={item.text} icon={item.icon} dividerAfter={item.dividerAfter} />))}\r\n        </ContextMenu>\r\n    )\r\n}\r\n\r\nfunction ContextMenuItem(props) {\r\n    const { onClick, text, dividerAfter } = props\r\n    const MenuIcon = props.icon\r\n\r\n    return (\r\n        <>\r\n            <MenuItem onClick={onClick} >\r\n                <Grid container direction=\"row\" alignItems=\"center\" spacing={2}>\r\n                    <Grid item>\r\n                        <MenuIcon fontSize=\"small\" style={{ position: 'relative', top: '2px' }} />\r\n                    </Grid>\r\n                    <Grid item>{text}</Grid>\r\n                </Grid>\r\n            </MenuItem>\r\n            {dividerAfter && <MenuItem divider />}\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nfunction HideColumnsPopup(props) {\r\n    const { open, values, onApply, onCancel } = props\r\n    const initialSelection = props.selection\r\n    const [selection, setSelection] = useState(props.selection)\r\n\r\n    const onEnter = (e) => {\r\n        e.preventDefault()\r\n        onApply(selection)\r\n    }\r\n\r\n    const cancel = (e) => {\r\n        setSelection(initialSelection)\r\n        onCancel()\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} aria-labelledby=\"form-dialog-title\" onClose={cancel}>\r\n                <form onSubmit={onEnter}>\r\n\r\n                    <DialogTitle id=\"form-dialog-title\">Show/Hide Columns</DialogTitle>\r\n                    <DialogContent>\r\n                        <Grid container direction=\"column\">\r\n                            {values.map(v => (\r\n                                <Grid item>\r\n                                    <FormControlLabel\r\n                                        label={v}\r\n                                        control={\r\n                                            <Checkbox\r\n                                                checked={selection.includes(v)}\r\n                                                onChange={(e) => {\r\n                                                    if (e.target.checked && !selection.includes(v)) {\r\n                                                        setSelection(s => [...s, v])\r\n                                                    } else if (!e.target.checked && selection.includes(v)) {\r\n                                                        const i = selection.indexOf(v)\r\n                                                        setSelection(s => [...s.slice(0, i), ...s.slice(i + 1)])\r\n                                                    }\r\n                                                }}\r\n                                                name={v}\r\n                                                color=\"primary\"\r\n                                            />\r\n                                        }\r\n\r\n                                    />\r\n                                </Grid>\r\n                            ))}\r\n                        </Grid>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button color=\"primary\" type=\"submit\">Apply</Button>\r\n                        <Button onClick={() => setSelection([])} color=\"primary\">Clear</Button>\r\n                    </DialogActions>\r\n                </form>\r\n\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\nexport default DataGridTable"]},"metadata":{},"sourceType":"module"}