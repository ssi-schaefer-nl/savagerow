import { types as t } from '@babel/core';
import type { Identifier, Node } from '@babel/types';
declare type Scope = Map<string, Set<Identifier>>;
export declare type ScopeId = number | 'global';
export declare type DeclareHandler = (identifier: Identifier, from: Identifier | null) => void;
declare const ResolvedNode: unique symbol;
export declare class PromisedNode<T = Node> {
    static is<TNode>(obj: any): obj is PromisedNode<TNode>;
    [ResolvedNode]: T | undefined;
    get identifier(): T | undefined;
}
export declare const resolveNode: <T = t.Node>(obj: T | PromisedNode<T> | undefined) => T | undefined;
export default class ScopeManager {
    static globalExportsIdentifier: t.Identifier;
    static globalModuleIdentifier: t.Identifier;
    private nextId;
    private readonly stack;
    private readonly map;
    private readonly handlers;
    private readonly declarations;
    private get global();
    constructor();
    new(isFunction: boolean, scopeId?: ScopeId): Scope;
    dispose(): Scope | undefined;
    declare(identifier: Identifier, isHoistable: boolean, from?: Identifier | null, stack?: number): void;
    addReference(identifier: Identifier): Identifier | PromisedNode;
    whereIsDeclared(identifier: Identifier): ScopeId | undefined;
    getDeclaration(identifierOrName: Identifier | string): Identifier | undefined;
    addDeclareHandler(handler: DeclareHandler): () => void;
}
export {};
